<!DOCTYPE html>
<html>
<head>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    
    <style>
      #map {
        height: 400px;
        width: 100%;
       }
    </style>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr_only">Toggle Navigation</span>
                    <span class="icon_bar"></span>
                    <span class="icon_bar"></span>
                </button>
                <h1><%= link_to root_path do %>
                    <%= image_tag('logo.png', width: '100', height: '100') %>
                    <% end %>
                </h1>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar navbar-right">
                    <li><%= link_to "users/auth/facebook" do %> <%= image_tag('facebook.png', width: '40', height: '40', class: 'image-circle')%><%end%></li>
                    <li><%= link_to "users/auth/twitter" do %> <%= image_tag('twitter.png', width: '40', height: '40', class: 'image-circle')%><%end%></li>
                </ul>
            </div>
        </div>
    </nav>
        <div class="alert alert-danger" role="alert">
            Desconectado
        </div>
    <div class="btn-group-vertical" role="group", aria-label="menu">
        <button type="button" class="btn btn-info"> <%= link_to "Cadastro", new_user_path %> </button>
        <button type="button" class="btn btn-info">Fale Conosco</button>
    </div>
        <h3>Teste do mapa do Google Maps</h3>
    <div id="map"></div>
    <script>
      function initMap() {
        var recife = {lat: -8.05428, lng: -34.8813};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: recife
        });
        
        //Acho que isso aqui não fica aqui, talvez no model e retorne pra cá apenas o marcador desejado como variável
        var marker = new google.maps.Marker({
          position: recife,
          map: map
          title: 'Clique para mais informações'
        });
        //Informação de dentro do marcador, acho interessante um link para aí vir informações mais completas
        var contentString = '<h1>Cidade:</h1>';
        var infowindow = new google.maps.InfoWindow({
            content: contentString
        });
        marker.addListener('click', function() {
            infowindow.open(map, marker);
        });
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSGVPIVj04qsocZ79OWxcxiMeYyDkL4Mg&callback=initMap">
    </script>
</body>
<%= yield %>
</body>
</html>
